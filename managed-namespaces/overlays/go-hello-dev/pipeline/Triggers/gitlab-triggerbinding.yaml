---
apiVersion: triggers.tekton.dev/v1alpha1
kind: TriggerBinding
metadata:
  name: gitlab-triggerbinding
  annotations:
      argocd.argoproj.io/sync-wave: "0"
spec:
  params:
  - name: gitrevision
    value: $(body.after)
  - name: gitshortsha
    value: $(body.after.truncate(7))
  - name: gitbranchname
    value: $(body.branch_name)
  - name: gitrepositoryurl
    value: $(body.repository.git_http_url)
  - name: contenttype
    value: $(header.Content-Type)